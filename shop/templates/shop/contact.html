{% extends 'shop/basic.html' %}

{% block title %}Contact Us{% endblock %}

{% block body %}
<div class="container mt-5 mb-5">
    <div class="row">
        <div class="col-lg-6 mx-auto">
            <h3 class="text-center mb-4"><b>Contact Us</b></h3>
            <form action="/shop/contact/" method="post" id="contactForm" class="shadow p-4 rounded bg-light">{% csrf_token %}
                <div class="form-group">
                    <label for="name"><i class="fas fa-user"></i> Name</label>
                    <input type="text" class="form-control" id="name" name="name" placeholder="Enter Your Name" required>
                </div>
                <div class="form-group">
                    <label for="email"><i class="fas fa-envelope"></i> Email</label>
                    <input type="email" class="form-control" id="email" name="email" placeholder="Enter Your Email" required>
                </div>
                <div class="form-group">
                    <label for="phone"><i class="fas fa-phone"></i> Phone</label>
                    <input type="tel" class="form-control" id="phone" name="phone" placeholder="Enter Your Phone Number" required>
                </div>
                <div class="form-group">
                    <label for="desc"><i class="fas fa-comment-dots"></i> How May We Help You?</label>
                    <textarea class="form-control" id="desc" name="desc" rows="3" placeholder="Enter your message here" required></textarea>
                </div>
                <button type="submit" class="btn btn-success btn-block"><i class="fas fa-paper-plane"></i> Submit</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}

{% block js %}
<script>
document.getElementById('contactForm').addEventListener('submit', function(event) {
    event.preventDefault(); // Prevent form submission
    var requiredFields = ['name', 'email', 'phone', 'desc'];
    var allFieldsFilled = true;

    requiredFields.forEach(function(fieldId) {
        var field = document.getElementById(fieldId);
        if (field.value.trim() === '') {
            allFieldsFilled = false;
            field.classList.add('is-invalid');
        } else {
            field.classList.remove('is-invalid');
        }
    });

    if (allFieldsFilled) {
        // Show thank you message
        alert('Thank you for contacting us!');
        // Redirect to home page
        window.location.href = "/shop";
    } else {
        alert('Please fill out all required fields.');
    }
});
</script>
{% endblock %}
